<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>profile | bookspace</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Hind+Madurai:wght@400;500;600&family=Montserrat:wght@500;600;700&family=Miriam+Libre:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Montserrat', sans-serif;
    }
    .subheading {
      font-family: 'Hind Madurai', sans-serif;
    }
    body, p, .card, .nav, .form-label, .btn {
      font-family: 'Miriam Libre', sans-serif;
    }

    /* Toggle group */
    .toggle-container {
      position: relative;
      display: inline-flex;
      background: #f1f1f1;
      padding: 5px;
      margin: 20px auto;
      gap: 5px;
    }

    .toggle-btn {
      position: relative;
      z-index: 2;
      flex: 1;
      border: none;
      background: transparent;
      padding: 8px 20px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 500;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .toggle-btn.active {
      color: #fff;
    }

    .toggle-pill {
      position: absolute;
      top: 5px;
      left: 5px;
      width: calc(33.33% - 5px);
      height: calc(100% - 10px);
      background: #212529;
      transition: transform 0.3s ease;
      z-index: 1;
    }

    /* Content areas */
    .tab-content-custom > div {
      display: none;
    }
    .tab-content-custom > div.active {
      display: block;
    }

    body {
      padding-top: 70px; /* adjust based on navbar height */
    }

    /* Ensure favorites, notes, and created books use row layout */
    #favoritesContainer, #notesContainer, #createdBooksContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4 fixed-top">
    <a href="./home.html" class="navbar-brand fw-bold" style="font-family: 'Montserrat', sans-serif;">bookspace</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" 
            aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="home.html">home</a></li>
        <li class="nav-item"><a class="nav-link" href="#">explore</a></li>
        <li class="nav-item"><a class="nav-link active" href="profile.html">profile</a></li>
      </ul>
    </div>
  </nav>

  <!-- Profile Container -->
  <div class="container mt-4">
    <h2 class="mb-4 display-7">welcome, reader</h2>

    <!-- Toggle -->
    <div class="toggle-container" id="profileToggle">
      <div class="toggle-pill"></div>
      <button class="toggle-btn active" data-target="favorites">favorites</button>
      <button class="toggle-btn" data-target="notes">notes</button>
      <button class="toggle-btn" data-target="created">created</button>
    </div>

    <!-- Content -->
    <div class="tab-content-custom mt-4">
      <div id="favorites" class="active">
        <h4 class="subheading mb-3">books i loved</h4>
        <div id="favoritesContainer" class="row"></div>
      </div>
      <div id="notes">
        <h4 class="subheading mb-3">my musings</h4>
        <div id="notesContainer" class="row"></div>
      </div>
      <div id="created">
        <h4 class="subheading mb-3">books i added</h4>
        <form id="createBookForm" class="mb-4">
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">Title</label>
              <input type="text" class="form-control" id="newBookTitle" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Author</label>
              <input type="text" class="form-control" id="newBookAuthor" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Cover URL</label>
              <input type="text" class="form-control" id="newBookCover" placeholder="optional">
            </div>
          </div>
          <button type="submit" class="btn btn-dark mt-3">Add Book</button>
        </form>
        <div id="createdBooksContainer" class="row"></div>
      </div>
    </div>
  </div>

  <script>
    const toggleBtns = document.querySelectorAll(".toggle-btn");
    const togglePill = document.querySelector(".toggle-pill");
    const contents = document.querySelectorAll(".tab-content-custom > div");

    toggleBtns.forEach((btn, index) => {
      btn.addEventListener("click", () => {
        // move pill
        togglePill.style.transform = `translateX(${index * 100}%)`;

        // active button
        toggleBtns.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        // show content
        contents.forEach(c => c.classList.remove("active"));
        document.getElementById(btn.dataset.target).classList.add("active");
      });
    });
  </script>

  <!-- Bootstrap + JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="profile.js"></script>
</body>
</html>
